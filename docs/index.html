<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Use and Explore CRU CL v. 2.0 Climatology Elements in R • getCRUCLdata</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Use and Explore CRU CL v. 2.0 Climatology Elements in R">
<meta property="og:description" content="Provides functions that automate downloading and importing
    University of East Anglia Climate Research Unit (CRU) CL v. 2.0 climatology
    data into R, facilitates the calculation of minimum temperature and maximum
    temperature and formats the data into a tidy data frame as a tibble or a 
    list of raster stack objects for use in an R session.  CRU CL v. 2.0 data 
    are a gridded climatology of 1961-1990 monthly means released in 2002 and
    cover all land areas (excluding Antarctica) at 10 arcminutes
    (0.1666667 degree) resolution.  For more information see the description of
    the data provided by the University of East Anglia Climate Research Unit,
    &lt;https://crudata.uea.ac.uk/cru/data/hrg/tmc/readme.txt&gt;.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">getCRUCLdata</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.2.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/getCRUCLdata.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ropensci/getCRUCLdata">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->

<p>Author/Maintainer: Adam Sparks</p>
<div id="introduction-to-getcrucldata" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction-to-getcrucldata" class="anchor"></a>Introduction to <em>getCRUCLdata</em>
</h2>
<p>The <em>getCRUCLdata</em> package provides functions that automate importing CRU CL v. 2.0 climatology data into R, facilitate the calculation of minimum temperature and maximum temperature, and formats the data into a <a href="http://vita.had.co.nz/papers/tidy-data.html">tidy data frame</a> as a <a href="https://www.rdocumentation.org/packages/tibble/versions/1.2"><code><a href="http://www.rdocumentation.org/packages/tibble/topics/tibble">tibble::tibble()</a></code></a> or a <a href="https://www.rdocumentation.org/packages/base/versions/3.4.0/topics/list"><code>list()</code></a> of <a href="https://www.rdocumentation.org/packages/raster/versions/2.5-8/topics/stack"><code><a href="http://www.rdocumentation.org/packages/raster/topics/stack">raster::stack()</a></code></a> objects for use in an R session.</p>
<p>CRU CL v. 2.0 data are a gridded climatology of 1961-1990 monthly means released in 2002 and cover all land areas (excluding Antarctica) at 10 arcminutes (0.1666667 degree) resolution. For more information see the description of the data provided by the University of East Anglia Climate Research Unit (CRU), <a href="https://crudata.uea.ac.uk/cru/data/hrg/tmc/readme.txt" class="uri">https://crudata.uea.ac.uk/cru/data/hrg/tmc/readme.txt</a>.</p>
</div>
<div id="changes-to-original-cru-cl-v--2-0-data" class="section level2">
<h2 class="hasAnchor">
<a href="#changes-to-original-cru-cl-v--2-0-data" class="anchor"></a>Changes to original CRU CL v. 2.0 data</h2>
<p>This package automatically converts elevation values from kilometres to metres.</p>
<p>This package crops all spatial outputs to an extent of ymin = -60, ymax = 85, xmin = -180, xmax = 180. Note that the original wind data include land area for parts of Antarctica.</p>
</div>
<div id="quick-start" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#quick-start" class="anchor"></a>Quick Start</h1></div>
<div id="install" class="section level2">
<h2 class="hasAnchor">
<a href="#install" class="anchor"></a>Install</h2>
<div id="stable-version" class="section level3">
<h3 class="hasAnchor">
<a href="#stable-version" class="anchor"></a>Stable version</h3>
<p>A stable version of <em>getCRUCLdata</em> is available from <a href="https://cran.r-project.org/package=getCRUCLdata">CRAN</a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">"getCRUCLdata"</span>)</a></code></pre></div>
</div>
<div id="development-version" class="section level3">
<h3 class="hasAnchor">
<a href="#development-version" class="anchor"></a>Development version</h3>
<p>A development version is available from from GitHub. If you wish to install the development version that may have new features (but also may not work properly), install the <a href="https://CRAN.R-project.org/package=devtools">devtools package</a>, available from CRAN. I strive to keep the master branch on GitHub functional and working properly, although this may not always happen.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="cf">if</span> (<span class="op">!</span><span class="kw">require</span>(<span class="st">"devtools"</span>)) {</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">  <span class="kw">install.packages</span>(<span class="st">"devtools"</span>)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"></a>
<a class="sourceLine" id="cb2-5" data-line-number="5">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"ropensci/getCRUCLdata"</span>, <span class="dt">build_vignettes =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
</div>
</div>
<div id="using-getcrucldata" class="section level2">
<h2 class="hasAnchor">
<a href="#using-getcrucldata" class="anchor"></a>Using <em>getCRUCLdata</em>
</h2>
<div id="creating-tidy-data-frames-for-use-in-r" class="section level3">
<h3 class="hasAnchor">
<a href="#creating-tidy-data-frames-for-use-in-r" class="anchor"></a>Creating tidy data frames for use in R</h3>
<p>The <code><a href="reference/get_CRU_df.html">get_CRU_df()</a></code> function automates the download process and creates tidy data frames as a <a href="https://github.com/tidyverse/tibble"><em>tibble</em></a> of the CRU CL v. 2.0 climatology elements.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">library</span>(getCRUCLdata)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"></a>
<a class="sourceLine" id="cb3-3" data-line-number="3">CRU_data &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_CRU_df.html">get_CRU_df</a></span>(<span class="dt">pre =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb3-4" data-line-number="4">                       <span class="dt">pre_cv =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb3-5" data-line-number="5">                       <span class="dt">rd0 =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">                       <span class="dt">tmp =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">                       <span class="dt">dtr =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">                       <span class="dt">reh =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb3-9" data-line-number="9">                       <span class="dt">tmn =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">                       <span class="dt">tmx =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb3-11" data-line-number="11">                       <span class="dt">sunp =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb3-12" data-line-number="12">                       <span class="dt">frs =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb3-13" data-line-number="13">                       <span class="dt">wnd =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb3-14" data-line-number="14">                       <span class="dt">elv =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>Perhaps you only need one or two elements, it is easy to create a tidy data frame of mean temperature only.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">t &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_CRU_df.html">get_CRU_df</a></span>(<span class="dt">tmp =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<div id="plotting-data-from-the-tidy-dataframe" class="section level4">
<h4 class="hasAnchor">
<a href="#plotting-data-from-the-tidy-dataframe" class="anchor"></a>Plotting data from the tidy dataframe</h4>
<p>Now that we have the data, we can plot it easily using <a href="http://ggplot2.org"><em>ggplot2</em></a> and the fantastic <a href="https://CRAN.R-project.org/package=viridis"><em>viridis</em></a> package for the colour scale.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="cf">if</span> (<span class="op">!</span><span class="kw">require</span>(<span class="st">"ggplot2"</span>)) {</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">  <span class="kw">install.packages</span>(ggplot2)</a>
<a class="sourceLine" id="cb5-3" data-line-number="3">}</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="cf">if</span> (<span class="op">!</span><span class="kw">require</span>(<span class="st">"viridis"</span>)) {</a>
<a class="sourceLine" id="cb5-5" data-line-number="5">  <span class="kw">install.packages</span>(<span class="st">"viridis"</span>)</a>
<a class="sourceLine" id="cb5-6" data-line-number="6">}</a>
<a class="sourceLine" id="cb5-7" data-line-number="7"></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="kw">library</span>(viridis)</a></code></pre></div>
<p>Now that the required packages are installed and loaded, we can generate a figure of temperatures using <em>ggplot2</em> to map the 12 months.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot</a></span>(<span class="dt">data =</span> t, <span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">x =</span> lon, <span class="dt">y =</span> lat)) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/geom_tile">geom_raster</a></span>(<span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">fill =</span> tmp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/viridis/topics/scale_viridis">scale_fill_viridis</a></span>(<span class="dt">option =</span> <span class="st">"inferno"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/coord_map">coord_quickmap</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">ggtitle</a></span>(<span class="st">"Global Mean Monthly Temperatures 1961-1990"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/facet_wrap">facet_wrap</a></span>(<span class="op">~</span><span class="st"> </span>month, <span class="dt">nrow =</span> <span class="dv">4</span>)</a></code></pre></div>
<div class="figure">
<img src="reference/figures/README-unnamed-chunk-6-1.png" alt="Plot of global mean monthly temperatures 1961-1990"><p class="caption">Plot of global mean monthly temperatures 1961-1990</p>
</div>
<p>We can also generate a violin plot of the same data to visualise how the temperatures change throughout the year.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/ggplot">ggplot</a></span>(<span class="dt">data =</span> t, <span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/aes">aes</a></span>(<span class="dt">x =</span> month, <span class="dt">y =</span> tmp)) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-2" data-line-number="2"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/geom_violin">geom_violin</a></span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">ylab</a></span>(<span class="st">"Temperature (˚C)"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4"><span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggplot2/topics/labs">labs</a></span>(<span class="dt">title =</span> <span class="st">"Global Monthly Mean Land Surface Temperatures From 1960-1991"</span>,</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">       <span class="dt">subtitle =</span> <span class="st">"Excludes Antarctica"</span>)</a></code></pre></div>
<div class="figure">
<img src="reference/figures/README-unnamed-chunk-7-1.png" alt="Violin plot of global mean temperatures 1961-1990"><p class="caption">Violin plot of global mean temperatures 1961-1990</p>
</div>
</div>
<div id="saving-the-tidy-tibble-as-a-csv-comma-separated-values-file-locally" class="section level4">
<h4 class="hasAnchor">
<a href="#saving-the-tidy-tibble-as-a-csv-comma-separated-values-file-locally" class="anchor"></a>Saving the tidy <code>tibble</code> as a CSV (comma separated values file) locally</h4>
<p>Save the resulting tidy <code>tibble</code> to local disk as a comma separated (CSV) file to local disk.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">library</span>(readr)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="kw"><a href="http://www.rdocumentation.org/packages/readr/topics/write_delim">write_csv</a></span>(t, <span class="dt">path =</span> <span class="st">"~/CRU_tmp.csv"</span>)</a></code></pre></div>
</div>
</div>
<div id="creating-raster-stacks-for-use-in-r-and-saving-for-use-in-another-gis" class="section level3">
<h3 class="hasAnchor">
<a href="#creating-raster-stacks-for-use-in-r-and-saving-for-use-in-another-gis" class="anchor"></a>Creating raster stacks for use in R and saving for use in another GIS</h3>
<p>For working with spatial data, <em>getCRUCLdata</em> provides a function that create lists of <a href="https://CRAN.R-project.org/package=raster"><em>raster</em></a> stacks of the data.</p>
<p>The <code><a href="reference/get_CRU_stack.html">get_CRU_stack()</a></code> functions provide similar functionality to <code><a href="reference/get_CRU_df.html">get_CRU_df()</a></code>, but rather than returning a tidy data frame, it returns a list of <code><a href="http://www.rdocumentation.org/packages/raster/topics/stack">raster::stack()</a></code> objects for use in an R session.</p>
<p>The <code><a href="reference/get_CRU_stack.html">get_CRU_stack()</a></code> function automates the download process and creates a <code><a href="http://www.rdocumentation.org/packages/raster/topics/stack">raster::stack()</a></code> object of the CRU CL v. 2.0 climatology elements. Illustrated here is creating a <code><a href="http://www.rdocumentation.org/packages/raster/topics/stack">raster::stack()</a></code> of all CRU CL v. 2.0 climatology elements available.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">CRU_stack &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_CRU_stack.html">get_CRU_stack</a></span>(<span class="dt">pre =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb9-2" data-line-number="2">                           <span class="dt">pre_cv =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb9-3" data-line-number="3">                           <span class="dt">rd0 =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb9-4" data-line-number="4">                           <span class="dt">tmp =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb9-5" data-line-number="5">                           <span class="dt">dtr =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb9-6" data-line-number="6">                           <span class="dt">reh =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb9-7" data-line-number="7">                           <span class="dt">tmn =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb9-8" data-line-number="8">                           <span class="dt">tmx =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb9-9" data-line-number="9">                           <span class="dt">sunp =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb9-10" data-line-number="10">                           <span class="dt">frs =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb9-11" data-line-number="11">                           <span class="dt">wnd =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb9-12" data-line-number="12">                           <span class="dt">elv =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>The <code><a href="reference/create_CRU_stack.html">create_CRU_stack()</a></code> function works in the same way with only one minor difference. You must supply the location of the files on the local disk (<code>dsn</code>) that you wish to import.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">t &lt;-<span class="st"> </span><span class="kw"><a href="reference/create_CRU_stack.html">create_CRU_stack</a></span>(<span class="dt">tmp =</span> <span class="ot">TRUE</span>, <span class="dt">dsn =</span> <span class="st">"~/Downloads"</span>)</a></code></pre></div>
<div id="plotting-raster-stacks-of-tmin-and-tmax" class="section level4">
<h4 class="hasAnchor">
<a href="#plotting-raster-stacks-of-tmin-and-tmax" class="anchor"></a>Plotting raster stacks of tmin and tmax</h4>
<p>Because the stacks are in a <code>list()</code>, we need to access each element of the list individually to plot them, that’s what the <code>[[1]]</code> or <code>[[2]]</code> is, the first or second element of the list. Here using <code>[[1]]</code> we will plot the monthly average minimum temperature for all twelve months.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">library</span>(raster)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/plot">plot</a></span>(t[[<span class="dv">1</span>]])</a></code></pre></div>
<div class="figure">
<img src="reference/figures/README-unnamed-chunk-10-1.png" alt="Plot of raster layers from minimum temperature stack"><p class="caption">Plot of raster layers from minimum temperature stack</p>
</div>
<p>To plot only one month from the stack is also possible. Here we plot maximum temperature for July. Note that we use To plot only one month from the stack is also possible. Here we plot maximum temperature for July. Note that we use indexing <code>[[2]]</code> as before but append a <code>$jul</code> to the object. This is the name of the layer in the raster stack. So, we are telling R to plot the second object in the <code>tmn_tmx</code> list, which is <code>tmx</code> and from that <code><a href="http://www.rdocumentation.org/packages/raster/topics/stack">raster::stack()</a></code>, plot only the raster layer for July.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/plot">plot</a></span>(t[[<span class="dv">2</span>]]<span class="op">$</span>jul)</a></code></pre></div>
<div class="figure">
<img src="reference/figures/README-unnamed-chunk-11-1.png" alt="Plot of maximum temperatures for July"><p class="caption">Plot of maximum temperatures for July</p>
</div>
</div>
<div id="saving-raster-objects-to-local-disk" class="section level4">
<h4 class="hasAnchor">
<a href="#saving-raster-objects-to-local-disk" class="anchor"></a>Saving raster objects to local disk</h4>
<p>The raster stack objects can be saved to disk as geotiff files (others are available, see help for <code><a href="http://www.rdocumentation.org/packages/raster/topics/writeRaster">writeRaster()</a></code> and <code><a href="http://www.rdocumentation.org/packages/raster/topics/writeFormats">writeFormats()</a></code> for more options) in the <code>Data</code> directory with a tmn or tmx prefix to the month for a file name.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">library</span>(raster)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"></a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="kw">dir.create</span>(<span class="kw">file.path</span>(<span class="st">"~/Data"</span>), <span class="dt">showWarnings =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/writeRaster">writeRaster</a></span>(</a>
<a class="sourceLine" id="cb13-5" data-line-number="5">  t<span class="op">$</span>tmn,</a>
<a class="sourceLine" id="cb13-6" data-line-number="6">  <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="st">"~/Data/tmn_"</span>, <span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/names">names</a></span>(t<span class="op">$</span>tmn)),</a>
<a class="sourceLine" id="cb13-7" data-line-number="7">  <span class="dt">bylayer =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb13-8" data-line-number="8">  <span class="dt">format =</span> <span class="st">"GTiff"</span></a>
<a class="sourceLine" id="cb13-9" data-line-number="9">  )</a>
<a class="sourceLine" id="cb13-10" data-line-number="10"></a>
<a class="sourceLine" id="cb13-11" data-line-number="11"><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/writeRaster">writeRaster</a></span>(</a>
<a class="sourceLine" id="cb13-12" data-line-number="12">  t<span class="op">$</span>tmx,</a>
<a class="sourceLine" id="cb13-13" data-line-number="13">  <span class="dt">filename =</span> <span class="kw">file.path</span>(<span class="st">"~/Data/tmx_"</span>, <span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/names">names</a></span>(t<span class="op">$</span>tmn)),</a>
<a class="sourceLine" id="cb13-14" data-line-number="14">  <span class="dt">bylayer =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb13-15" data-line-number="15">  <span class="dt">format =</span> <span class="st">"GTiff"</span></a>
<a class="sourceLine" id="cb13-16" data-line-number="16">  )</a></code></pre></div>
</div>
</div>
</div>
<div id="advanced-usage" class="section level2">
<h2 class="hasAnchor">
<a href="#advanced-usage" class="anchor"></a>Advanced usage</h2>
<div id="caching-files-for-later-use" class="section level3">
<h3 class="hasAnchor">
<a href="#caching-files-for-later-use" class="anchor"></a>Caching files for later use</h3>
<p>When using the <code><a href="reference/get_CRU_df.html">get_CRU_df()</a></code> or <code><a href="reference/get_CRU_stack.html">get_CRU_stack()</a></code> functions, files may be cached in the users’ local space for later use (optional) or stored in a temporary directory and deleted when the R session is closed and not saved (this is the default behaviour already illustrated above). Illustrated here, create a tidy data frame of all CRU CL v. 2.0 climatology elements available and cache them to save time in the future. <em>In order to take advantage of the cached data, you must use the <code><a href="reference/get_CRU_df.html">get_CRU_df()</a></code> function again in the future</em>. This functionality is somewhat modelled after the <code><a href="http://www.rdocumentation.org/packages/raster/topics/getData">raster::getData()</a></code> function that will not download files that already exist in the working directory, however in this case the function is portable and it will work for any working directory. That is, if you have cached the data and you use <code><a href="reference/get_CRU_df.html">get_CRU_df()</a></code> again, it will use the cached data no matter what working directory you are in. This functionality will be most useful for writing scripts that may be used several times rather than just once off or if you frequently use the data in multiple analyses the data will not be downloaded again if they have been cached.</p>
<p>Create a list of raster stacks of maximum and minimum temperature. To take advantage of the previously cached files and save time by not downloading files, specify <code>cache = TRUE</code>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">t &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_CRU_stack.html">get_CRU_stack</a></span>(<span class="dt">tmn =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb14-2" data-line-number="2">                   <span class="dt">tmx =</span> <span class="ot">TRUE</span>,</a>
<a class="sourceLine" id="cb14-3" data-line-number="3">                   <span class="dt">cache =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
</div>
<div id="downloading-files-outside-of-r-using-another-ftp-program" class="section level3">
<h3 class="hasAnchor">
<a href="#downloading-files-outside-of-r-using-another-ftp-program" class="anchor"></a>Downloading files outside of R using another FTP program</h3>
<p>A second set of functions, <code><a href="reference/create_CRU_df.html">create_CRU_df()</a></code> and <code><a href="reference/create_CRU_stack.html">create_CRU_stack()</a></code>, is provided for users that may have connectivity issues or simply wish to use something other than R to download the data files. You may also wish to use these if you want to download the data and specify where it is stored rather than using the <code>cache</code> functionality of <code><a href="reference/get_CRU_df.html">get_CRU_df()</a></code> and <code><a href="reference/get_CRU_stack.html">get_CRU_stack()</a></code>.</p>
<p>The <code><a href="reference/create_CRU_df.html">create_CRU_df()</a></code> and <code><a href="reference/create_CRU_stack.html">create_CRU_stack()</a></code> functions work in the same way as <code><a href="reference/get_CRU_df.html">get_CRU_df()</a></code> and <code><a href="reference/get_CRU_stack.html">get_CRU_stack()</a></code> functions with only one major difference. You must supply the location of the files on the local disk (<code>dsn</code>) that you wish to import. That is, the CRU CL v. 2.0 data files <em>must</em> be downloaded prior to the use of these functions using a program external to R, e.g., FileZilla or some other FTP program. In this instance it is recommended to use an FTP client (<em>e.g.</em>, <a href="https://filezilla-project.org">FileZilla</a>), a web browser* or command line command (e.g., <a href="https://www.gnu.org/software/wget/">wget</a> or <a href="https://curl.haxx.se">cURL</a>) to download the files, save locally and use one of these functions to import the data into R and generate your desired object to work with.</p>
<p>*Beware, if using Safari, macOS will automatically unzip the files. This will cause the functions in R to fail as they expect a gzipped file.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1">t &lt;-<span class="st"> </span><span class="kw"><a href="reference/create_CRU_df.html">create_CRU_df</a></span>(<span class="dt">tmp =</span> <span class="ot">TRUE</span>, <span class="dt">dsn =</span> <span class="st">"~/Downloads"</span>)</a></code></pre></div>
<hr>
</div>
</div>
</div>
<div id="documentation" class="section level1">
<h1 class="hasAnchor">
<a href="#documentation" class="anchor"></a>Documentation</h1>
<p>For complete documentation see the package website: <a href="https://ropensci.github.io/getCRUCLdata/" class="uri">https://ropensci.github.io/getCRUCLdata/</a></p>
</div>
<div id="meta" class="section level1">
<h1 class="hasAnchor">
<a href="#meta" class="anchor"></a>Meta</h1>
<div id="cru-cl-v--2-0-reference-and-abstract" class="section level2">
<h2 class="hasAnchor">
<a href="#cru-cl-v--2-0-reference-and-abstract" class="anchor"></a>CRU CL v. 2.0 reference and abstract</h2>
<blockquote>
<p>Mark New (1,*), David Lister (2), Mike Hulme (3), Ian Makin (4)</p>
</blockquote>
<blockquote>
<p>A high-resolution data set of surface climate over global land areas Climate Research, 2000, Vol 21, pg 1-25</p>
</blockquote>
<blockquote>
<ol style="list-style-type: decimal">
<li>School of Geography and the Environment, University of Oxford, Mansfield Road, Oxford OX1 3TB, United Kingdom<br>
</li>
<li>Climatic Research Unit, and (3) Tyndall Centre for Climate Change Research, both at School of Environmental Sciences, University of East Anglia, Norwich NR4 7TJ, United Kingdom<br>
</li>
<li>International Water Management Institute, PO Box 2075, Colombo, Sri Lanka</li>
</ol>
</blockquote>
<blockquote>
<p><strong>ABSTRACT:</strong> We describe the construction of a 10-minute latitude/longitude data set of mean monthly surface climate over global land areas, excluding Antarctica. The climatology includes 8 climate elements - precipitation, wet-day frequency, temperature, diurnal temperature range, relative humidity,sunshine duration, ground frost frequency and windspeed - and was interpolated from a data set of station means for the period centred on 1961 to 1990. Precipitation was first defined in terms of the parameters of the Gamma distribution, enabling the calculation of monthly precipitation at any given return period. The data are compared to an earlier data set at 0.5 degrees latitude/longitude resolution and show added value over most regions. The data will have many applications in applied climatology, biogeochemical modelling, hydrology and agricultural meteorology and are available through the School of Geography Oxford (<a href="http://www.geog.ox.ac.uk" class="uri">http://www.geog.ox.ac.uk</a>), the International Water Management Institute “World Water and Climate Atlas” (<a href="http://www.iwmi.org" class="uri">http://www.iwmi.org</a>) and the Climatic Research Unit (<a href="http://www.cru.uea.ac.uk" class="uri">http://www.cru.uea.ac.uk</a>).</p>
</blockquote>
</div>
<div id="contributors" class="section level2">
<h2 class="hasAnchor">
<a href="#contributors" class="anchor"></a>Contributors</h2>
<ul>
<li><a href="https://github.com/adamhsparks">Adam H. Sparks</a></li>
</ul>
</div>
<div id="other" class="section level2">
<h2 class="hasAnchor">
<a href="#other" class="anchor"></a>Other</h2>
<ul>
<li><p>Please <a href="https://github.com/ropensci/getCRUCLdata/issues">report any issues or bugs</a>.</p></li>
<li><p>License: MIT</p></li>
<li><p>Get citation information for <em>getCRUCLdata</em> in R typing <code>citation(package = "getCRUCLdata")</code></p></li>
<li><p>Please note that this project is released with a <a href="CONDUCT.html">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p></li>
</ul>
<p><a href="https://ropensci.org"><img src="https://ropensci.org/public_images/github_footer.png" alt="ropensci"></a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=getCRUCLdata">https://​cloud.r-project.org/​package=getCRUCLdata</a>
</li>
<li>Browse source code at <br><a href="https://github.com/ropensci/getCRUCLdata">https://​github.com/​ropensci/​getCRUCLdata</a>
</li>
<li>Report a bug at <br><a href="https://github.com/ropensci/getCRUCLdata/issues">https://​github.com/​ropensci/​getCRUCLdata/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing getCRUCLdata</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Adam Sparks <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-0061-8359" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" height="16"></a> </li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/ropensci/getCRUCLdata"><img src="https://travis-ci.org/ropensci/getCRUCLdata.svg?branch=master" alt="Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/ropensci/getCRUCLdata"><img src="https://ci.appveyor.com/api/projects/status/github/ropensci/getCRUCLdata?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a></li>
<li><a href="https://codecov.io/gh/ropensci/getCRUCLdata"><img src="https://codecov.io/gh/ropensci/getCRUCLdata/branch/master/graph/badge.svg" alt="codecov"></a></li>
<li><a href="https://doi.org/10.5281/zenodo.466812"><img src="https://zenodo.org/badge/DOI/10.5281/zenodo.466812.svg" alt="DOI"></a></li>
<li><a href="https://cran.r-project.org/package=getCRUCLdata"><img src="http://www.r-pkg.org/badges/version/getCRUCLdata" alt="CRAN_Status_Badge"></a></li>
<li><a href="http://www.repostatus.org/#active"><img src="http://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="http://joss.theoj.org/papers/421837399efdbef2a248d0cf4a6c1d15"><img src="http://joss.theoj.org/papers/421837399efdbef2a248d0cf4a6c1d15/status.svg" alt="JOSS status"></a></li>
<li><a href="https://github.com/ropensci/onboarding/issues/96"><img src="https://badges.ropensci.org/96_status.svg"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Adam Sparks.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
