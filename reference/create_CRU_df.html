<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a Tidy Data Frame From CRU CL v.2.0 Climatology Variables on Local Disk — create_CRU_df • getCRUCLdata</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Create a Tidy Data Frame From CRU CL v.2.0 Climatology Variables on Local Disk — create_CRU_df" />
<meta property="og:description" content="Automates importing CRU CL v.2.0 climatology
data and creates a tidy data frame of the data.  If requested, minimum and
maximum temperature may also be automatically calculated as described in the
data readme.txt file.  This function can be useful if you have network
connection issues that mean automated downloading of the files using R
does not work properly.  In this instance it is recommended to use an
FTP client (e.g., FileZilla), web browser or command line
command (e.g., wget or curl) to download the files, save locally and
use this function to import the data into R.
Nomenclature and units from readme.txt:
preprecipitation (millimetres/month)
 
   
 
rd0wet-days (number days with &amp;gt;0.1mm rain per month)
tmpmean temperature (degrees Celsius)
dtrmean diurnal temperature range (degrees Celsius)
rehrelative humidity (percent)
sunpsunshine (percent of maximum possible (percent of day length))
frsground-frost (number of days with ground-frost per month)
wnd10 metre windspeed (metres/second)
elvelevation (automatically converted to metres)

For more information see the description of the data provided by
CRU, https://crudata.uea.ac.uk/cru/data/hrg/tmc/readme.txt" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">getCRUCLdata</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/getCRUCLdata.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Advanced_use.html">Advanced usage of getCRUCLdata</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/getCRUCLdata/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a Tidy Data Frame From CRU CL v.2.0 Climatology Variables on Local Disk</h1>
    <small class="dont-index">Source: <a href='https://github.com/ropensci/getCRUCLdata/blob/master/R/create_CRU_df.R'><code>R/create_CRU_df.R</code></a></small>
    <div class="hidden name"><code>create_CRU_df.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Automates importing <acronym>CRU</acronym> <acronym>CL</acronym> v.2.0 climatology
data and creates a tidy data frame of the data.  If requested, minimum and
maximum temperature may also be automatically calculated as described in the
data readme.txt file.  This function can be useful if you have network
connection issues that mean automated downloading of the files using <span style="R">R</span>
does not work properly.  In this instance it is recommended to use an
<acronym>FTP</acronym> client (<em>e.g.</em>, FileZilla), web browser or command line
command (<em>e.g.</em>, wget or curl) to download the files, save locally and
use this function to import the data into <span style="R">R</span>.</p>
<p>Nomenclature and units from readme.txt:</p><dl>
<dt>pre</dt><dd><p>precipitation (millimetres/month)</p></dd>
 
   
 
<dt>rd0</dt><dd><p>wet-days (number days with &gt;0.1mm rain per month)</p></dd>
<dt>tmp</dt><dd><p>mean temperature (degrees Celsius)</p></dd>
<dt>dtr</dt><dd><p>mean diurnal temperature range (degrees Celsius)</p></dd>
<dt>reh</dt><dd><p>relative humidity (percent)</p></dd>
<dt>sunp</dt><dd><p>sunshine (percent of maximum possible (percent of day length))</p></dd>
<dt>frs</dt><dd><p>ground-frost (number of days with ground-frost per month)</p></dd>
<dt>wnd</dt><dd><p>10 metre windspeed (metres/second)</p></dd>
<dt>elv</dt><dd><p>elevation (automatically converted to metres)</p></dd>

</dl><p>For more information see the description of the data provided by
<acronym>CRU</acronym>, <a href='https://crudata.uea.ac.uk/cru/data/hrg/tmc/readme.txt'>https://crudata.uea.ac.uk/cru/data/hrg/tmc/readme.txt</a></p>
    </div>

    <pre class="usage"><span class='fu'>create_CRU_df</span><span class='op'>(</span>
  pre <span class='op'>=</span> <span class='cn'>FALSE</span>,
  pre_cv <span class='op'>=</span> <span class='cn'>FALSE</span>,
  rd0 <span class='op'>=</span> <span class='cn'>FALSE</span>,
  tmp <span class='op'>=</span> <span class='cn'>FALSE</span>,
  dtr <span class='op'>=</span> <span class='cn'>FALSE</span>,
  reh <span class='op'>=</span> <span class='cn'>FALSE</span>,
  tmn <span class='op'>=</span> <span class='cn'>FALSE</span>,
  tmx <span class='op'>=</span> <span class='cn'>FALSE</span>,
  sunp <span class='op'>=</span> <span class='cn'>FALSE</span>,
  frs <span class='op'>=</span> <span class='cn'>FALSE</span>,
  wnd <span class='op'>=</span> <span class='cn'>FALSE</span>,
  elv <span class='op'>=</span> <span class='cn'>FALSE</span>,
  dsn <span class='op'>=</span> <span class='st'>""</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>pre</th>
      <td><p>Logical. Fetch precipitation (millimetres/month) from server and
return in the data frame? Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>pre_cv</th>
      <td><p>Logical. Fetch cv of precipitation (percent) from server and
return in the data frame? Defaults to <code>FALSE</code>. NOTE. Setting this to
<code>TRUE</code> will always results in <strong>pre</strong> being set to <code>TRUE</code> and
returned as well.</p></td>
    </tr>
    <tr>
      <th>rd0</th>
      <td><p>Logical. Fetch wet-days (number days with &gt;0.1millimetres rain per
month) and return in the data frame? Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>tmp</th>
      <td><p>Logical. Fetch temperature (degrees Celsius) and return it in the
data frame? Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>dtr</th>
      <td><p>Logical. Fetch mean diurnal temperature range (degrees Celsius)
and return it in the data frame? Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>reh</th>
      <td><p>Logical. Fetch relative humidity and return it in the data frame?
Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>tmn</th>
      <td><p>Logical. Calculate minimum temperature values (degrees Celsius)
and return it in the data frame? Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>tmx</th>
      <td><p>Logical. Calculate maximum temperature (degrees Celsius) and
return it in the data frame? Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>sunp</th>
      <td><p>Logical. Fetch sunshine, percent of maximum possible (percent of
day length) and return it in data frame? Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>frs</th>
      <td><p>Logical. Fetch ground-frost records (number of days with ground-
frost per month) and return it in data frame? Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>wnd</th>
      <td><p>Logical. Fetch 10m wind speed (metres/second) and return it in the
data frame? Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>elv</th>
      <td><p>Logical. Fetch elevation (converted to metres) and return it in
the data frame? Defaults to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>dsn</th>
      <td><p>Local file path where <acronym>CRU</acronym> <acronym>CL</acronym> v.2.0 .dat.gz
files are located.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A tidy data frame of <acronym>CRU</acronym> <acronym>CL</acronym> v. 2.0 climatology
elements as a <code><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></code> object</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>This package automatically converts elevation values from kilometres to
metres.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='get_CRU_df.html'>get_CRU_df</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Adam H Sparks, <a href='mailto:adamhsparks@gmail.com'>adamhsparks@gmail.com</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='co'># Create a data frame of temperature from locally available files in the</span>
<span class='co'># tempdir() directory.</span>

<span class='fu'><a href='https://rdrr.io/r/utils/download.file.html'>download.file</a></span><span class='op'>(</span>
  url <span class='op'>=</span> <span class='st'>"https://crudata.uea.ac.uk/cru/data/hrg/tmc/grid_10min_tmp.dat.gz"</span>,
  destfile <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"grid_10min_tmp.dat.gz"</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='va'>CRU_tmp</span> <span class='op'>&lt;-</span> <span class='fu'>create_CRU_df</span><span class='op'>(</span>tmp <span class='op'>=</span> <span class='cn'>TRUE</span>, dsn <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>CRU_tmp</span>
</div><div class='output co'>#&gt; <span style='color: #555555;'># A tibble: 6,795,144 x 4</span><span>
#&gt;      lat   lon month   tmp
#&gt;    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'> 1</span><span> -</span><span style='color: #BB0000;'>59.1</span><span> -</span><span style='color: #BB0000;'>26.6</span><span> jan     0.2
#&gt; </span><span style='color: #555555;'> 2</span><span> -</span><span style='color: #BB0000;'>58.4</span><span> -</span><span style='color: #BB0000;'>26.2</span><span> jan     0.6
#&gt; </span><span style='color: #555555;'> 3</span><span> -</span><span style='color: #BB0000;'>58.4</span><span> -</span><span style='color: #BB0000;'>26.4</span><span> jan     0.4
#&gt; </span><span style='color: #555555;'> 4</span><span> -</span><span style='color: #BB0000;'>55.9</span><span> -</span><span style='color: #BB0000;'>67.2</span><span> jan     8  
#&gt; </span><span style='color: #555555;'> 5</span><span> -</span><span style='color: #BB0000;'>55.8</span><span> -</span><span style='color: #BB0000;'>67.2</span><span> jan     8.2
#&gt; </span><span style='color: #555555;'> 6</span><span> -</span><span style='color: #BB0000;'>55.8</span><span> -</span><span style='color: #BB0000;'>67.4</span><span> jan     8  
#&gt; </span><span style='color: #555555;'> 7</span><span> -</span><span style='color: #BB0000;'>55.8</span><span> -</span><span style='color: #BB0000;'>67.6</span><span> jan     8.4
#&gt; </span><span style='color: #555555;'> 8</span><span> -</span><span style='color: #BB0000;'>55.6</span><span> -</span><span style='color: #BB0000;'>67.4</span><span> jan     8.3
#&gt; </span><span style='color: #555555;'> 9</span><span> -</span><span style='color: #BB0000;'>55.6</span><span> -</span><span style='color: #BB0000;'>67.6</span><span> jan     8.6
#&gt; </span><span style='color: #555555;'>10</span><span> -</span><span style='color: #BB0000;'>55.6</span><span> -</span><span style='color: #BB0000;'>68.1</span><span> jan     8.2
#&gt; </span><span style='color: #555555;'># … with 6,795,134 more rows</span><span></div><div class='input'><span class='co'># }</span>

</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Adam H. Sparks.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


